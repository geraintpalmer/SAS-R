<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; }
code > span.dt { color: #204a87; }
code > span.dv { color: #0000cf; }
code > span.bn { color: #0000cf; }
code > span.fl { color: #0000cf; }
code > span.ch { color: #4e9a06; }
code > span.st { color: #4e9a06; }
code > span.co { color: #8f5902; font-style: italic; }
code > span.ot { color: #8f5902; }
code > span.al { color: #ef2929; }
code > span.fu { color: #000000; }
code > span.er { font-weight: bold; }
  </style>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<h1 id="week-3---data-structurs-and-recursion">Week 3 - Data Structurs and Recursion</h1>
<p>This lab sheet will introduce various data structures and also an important concept called 'recurrence'. After this session you will know how to:</p>
<ul>
<li>Create and manipulate lists;</li>
<li>Create and manipulate dictionaries (hash tables);</li>
<li>Write data to a file using the <code>write</code> and <code>read</code> functions;</li>
<li>Use the csv python module to read and write csv files;</li>
<li>Program some basic algorithms using recurrence.</li>
</ul>
<h2 id="lists-in-python">Lists in Python</h2>
<p>Lists are a particular object in Python that hold ordered collection of other objects. In other languages they are sometimes called 'arrays'. You can think of these as baskets that allow you to hold objects. You can put anything in lists:</p>
<ul>
<li>Numeric variables;</li>
<li>Character variables;</li>
<li>Other lists;</li>
<li>and various other 'things'.</li>
</ul>
<ol style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong>: The following code creates a list with the numbers from 1, to 10.</p>
<pre class="sourceCode python"><code class="sourceCode python">alist = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>]</code></pre>
<p>We can manipulate lists in a similar way to strings. Try the following:</p>
<pre class="sourceCode python"><code class="sourceCode python">blist = [<span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>]
clist = alist + blist
<span class="kw">print</span> clist
<span class="kw">print</span> <span class="dt">len</span>(clist)
<span class="kw">print</span> clist[<span class="dv">0</span>]
<span class="kw">print</span> clist[-<span class="dv">1</span>]
<span class="kw">print</span> clist[<span class="dv">3</span>:<span class="dv">12</span>]</code></pre>
<p>We see that python indexes lists just like strings: starting at 0. We can also use the <code>index</code> function as for strings. Try:</p>
<pre class="sourceCode python"><code class="sourceCode python">index = clist.index(<span class="dv">40</span>)
<span class="kw">print</span> index
<span class="kw">print</span> clist[index:index + <span class="dv">2</span>]</code></pre>
<p><a href="http://www.youtube.com/watch?v=7FbYcOOB64c">Video hint</a></p></li>
<li><p>We have seen how to combine two lists using <code>+</code> but there is a very useful method on lists called the <code>append</code> method. With this we can easily add elements to lists:</p>
<pre class="sourceCode python"><code class="sourceCode python">mylist = []
<span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">11</span>):
    <span class="kw">if</span> i % <span class="dv">2</span> == <span class="dv">0</span>:
        mylist.append(i)
<span class="kw">print</span> mylist</code></pre>
<p>This makes use of the range function that we see in the previous lab sheet.</p>
<p><a href="http://www.youtube.com/watch?v=DWiHBdf5mQI">Video hint</a></p></li>
<li><p><strong>TICKABLE</strong> Create a list with the first 1300 integers divisible by 3. What is the largest such number?</p>
<p><a href="http://www.youtube.com/watch?v=7KxOxWC3h78">Video hint</a></p></li>
<li><p>There is another way of creating/manipulating lists in python called list <em>comprehensions</em>. The following code give the squares of the first 10 integers:</p>
<pre class="sourceCode python"><code class="sourceCode python">squares = [e ** <span class="dv">2</span> <span class="kw">for</span> e in <span class="dt">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)]
<span class="kw">print</span> squares</code></pre>
<p>We can include logical statements to only give the squares of odd numbers:</p>
<pre class="sourceCode python"><code class="sourceCode python">squares = [e ** <span class="dv">2</span> <span class="kw">for</span> e in <span class="dt">range</span>(<span class="dv">1</span>, <span class="dv">11</span>) <span class="kw">if</span> e %% <span class="dv">2</span> == <span class="dv">1</span>]
<span class="kw">print</span> squares</code></pre>
<p><a href="http://www.youtube.com/watch?v=8WXIY18RJiY">Video hint</a></p></li>
<li><p><strong>TICKABLE</strong> By creating a function and using list comprehensions, create a list of <span class="math">\(f(n)\)</span> for all integers <span class="math">\(n\leq 100\)</span> where <span class="math">\(f(n)\)</span> is given below:</p>
<p><span class="math">\[f(n) = \begin{cases}
   n ^ 3,&amp; \text{ if $n$ odd}\\
   n ^ 2 + 1,&amp; \text{ if $n$ is divisible by }4\\
   n - 1,&amp; \text{otherwise}
\end{cases}\]</span></p>
<p><a href="http://www.youtube.com/watch?v=cr_QV3fF-Ls">Video hint</a></p></li>
<li><p>There are various other things that we can do to a list. Including getting the highest, lowest values as well as the length of the list:</p>
<pre class="sourceCode python"><code class="sourceCode python">alist = [<span class="dv">1</span>,<span class="dv">74</span>,<span class="dv">2</span>,<span class="dv">100</span>,-<span class="dv">123</span>]
<span class="kw">print</span> <span class="dt">max</span>(alist)
<span class="kw">print</span> <span class="dt">min</span>(alist)
<span class="kw">print</span> <span class="dt">len</span>(alist)</code></pre>
<p><a href="http://www.youtube.com/watch?v=JslPoHRe3kk">Video hint</a></p></li>
</ol>
<h2 id="dictionaries-in-python">Dictionaries in Python</h2>
<ol start="7" style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong> In computer science 'hash tables' are used as an efficient way to find particular data that is used often. In python 'hash tables' are called dictionaries. To understand this consider the following list of lists:</p>
<pre class="sourceCode python"><code class="sourceCode python">badphonebook = [[<span class="st">&quot;Vince&quot;</span>, <span class="dv">3</span>],
                [<span class="st">&quot;Zoe&quot;</span>, <span class="dv">2</span>],
                [<span class="st">&quot;Julien&quot;</span>, <span class="dv">6</span>],
                [<span class="st">&quot;Thomas&quot;</span>, <span class="dv">10</span>],
                [<span class="st">&quot;Mike&quot;</span>, <span class="dv">1</span>],
                [<span class="st">&quot;Matt&quot;</span>, <span class="dv">4</span>]]</code></pre>
<p>(Note that you can write lists over multiple lines)</p>
<p>To find a particular phone number in this phone book we would need to go through ever element of the phone book to check if it was the right one:</p>
<div class="figure">
<img src="./Images/W03-img01.png" alt="" /><p class="caption"></p>
</div>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> searchpb(target):
    <span class="kw">for</span> e in badphonebook:
        <span class="kw">print</span> <span class="st">&quot;Checking </span><span class="ot">%s</span><span class="st">&quot;</span> % e
        <span class="kw">if</span> e[<span class="dv">0</span>] == target:
            <span class="kw">return</span> e[<span class="dv">1</span>]
    <span class="kw">return</span> <span class="st">&quot;</span><span class="ot">%s</span><span class="st"> not in phonebook&quot;</span> % target</code></pre>
<p>Code this function and use it to find all the phone numbers in the above phone book. Try to find some strings that are not in the phone book.</p>
<p><strong>In reality this is not how a phone book is designed.</strong> Names are in a given order (alphabetical) and so it is easier to know <em>where a name is supposed to be</em>. This is implemented in python using 'dictionaries' which are an <strong>unordered set of <em>key:value</em> pairs</strong>.</p>
<div class="figure">
<img src="./Images/W03-img02.png" alt="" /><p class="caption"></p>
</div>
<p>This code creates the above phone book as a dictionary with the names as <em>keys</em> and the numbers as their <em>values</em>:</p>
<pre class="sourceCode python"><code class="sourceCode python">goodphonebook = {<span class="st">&quot;Vince&quot;</span>: <span class="dv">3</span>,
                    <span class="st">&quot;Zoe&quot;</span>: <span class="dv">2</span>,
                    <span class="st">&quot;Julien&quot;</span>: <span class="dv">6</span>,
                    <span class="st">&quot;Thomas&quot;</span>: <span class="dv">10</span>,
                    <span class="st">&quot;Mike&quot;</span>: <span class="dv">1</span>,
                    <span class="st">&quot;Matt&quot;</span>: <span class="dv">4</span>}</code></pre>
<p>(Note that you can write dictionaries over multiple lines)</p>
<p>To query a dictionary we can use the <code>get</code> method:</p>
<pre class="sourceCode python"><code class="sourceCode python">goodphonebook.get(<span class="st">&quot;Thomas&quot;</span>)
goodphonebook.get(<span class="st">&quot;Brayden&quot;</span>)
goodphonebook.get(<span class="st">&quot;Brayden&quot;</span>, <span class="st">&#39;Not in book&#39;</span>)
goodphonebook.get(<span class="st">&quot;Thomas&quot;</span>, <span class="st">&#39;Not in book&#39;</span>)</code></pre>
<p>We can also modify an element of a dictionary as follows:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">print</span> goodphonebook[<span class="st">&#39;Vince&#39;</span>]
goodphonebook[<span class="st">&#39;Vince&#39;</span>] = <span class="dv">8</span>
<span class="kw">print</span> goodphonebook[<span class="st">&#39;Vince&#39;</span>]</code></pre>
<p>We must just be careful as if we use square brackets for a value that is not in a dictionary we will obtain an error:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">print</span> goodphonebook[<span class="st">&#39;Brayden&#39;</span>]
goodphonebook[<span class="st">&#39;Brayden&#39;</span>] = <span class="dv">12</span>
<span class="kw">print</span> goodphonebook[<span class="st">&#39;Brayden&#39;</span>]</code></pre>
<p><strong>Note valid keys must be strings or numerical variables but anything can be a value of a key.</strong></p>
<p><a href="http://www.youtube.com/watch?v=CuyHg-1Let0">Video hint</a></p></li>
<li><p>Iterate over the list <code>badphonebook</code> to initiate the <code>pb</code> as the equivalent dictionary:</p>
<pre class="sourceCode python"><code class="sourceCode python">pb = {}
<span class="kw">for</span> e in badphonebook:
    ...</code></pre>
<p><a href="http://www.youtube.com/watch?v=ZZv2sB57BgA">Video hint</a></p></li>
<li><p>Note that it is also possible to iterate over keys in a dictionary:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">for</span> e in goodphonebook:
    <span class="kw">print</span> goodphonebook[e]</code></pre>
<p><a href="http://www.youtube.com/watch?v=cZWwJgvRbBE">Video hint</a></p></li>
</ol>
<h2 id="writing-data-to-files">Writing data to files</h2>
<ol start="10" style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong> All of the data we handle with variables, lists and dictionaries lives in the 'memory' of a computer when our python code is running. When the program stops running the data is lost. There will be occasions when we want to write our data to a file on the hard drive of a computer (so that it is always available even when we turn the computer off).</p>
<p>To do this we need Python to open a file (usually a basic text file), write strings to the text file and then close the file. The following code opens (or creates a) text file in 'write mode' (that's what the <code>w</code> is for) and writes the numbers 1 to 10 to it:</p>
<pre class="sourceCode python"><code class="sourceCode python">textfile = <span class="dt">open</span>(<span class="st">&#39;mytextfile.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)
<span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">1</span>, <span class="dv">11</span>):
    textfile.write(<span class="st">&quot;</span><span class="ot">%s</span><span class="ch">\n</span><span class="st">&quot;</span> % i)
textfile.close()</code></pre>
<p>Note that the string we are writing at each step of the loop ends with a <code>\n</code>. This is a special character that tells the writer to write a new line. There are other special characters such as <code>\t</code> which tells the writer to include a tabulated space.</p></li>
<li><p>To read data from a file, we need to open the file in 'read mode':</p>
<pre class="sourceCode python"><code class="sourceCode python">textfile = <span class="dt">open</span>(<span class="st">&#39;mytextfile.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)
string = textfile.read()
<span class="kw">print</span> string</code></pre>
<p>This string is not particularly helpful. To transform the string to a list we can use the <code>split</code> method which seperates a string on a given character:</p>
<pre class="sourceCode python"><code class="sourceCode python">data = string.split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)
<span class="kw">print</span> data</code></pre>
<p>All the variables in this list are still character variables. To convert them to numeric variables we can use a list comprehension:</p>
<pre class="sourceCode python"><code class="sourceCode python">data = [<span class="dt">int</span>(e) <span class="kw">for</span> e in data[:-<span class="dv">1</span>]]</code></pre>
<p><a href="http://www.youtube.com/watch?v=HSz1A8ZHWWg">Video hint</a> <a href="http://www.youtube.com/watch?v=HSz1A8ZHWWg">Video hint</a></p></li>
<li><p><strong>TICKABLE</strong> The following function checks if a number is prime or not. Read through the function and ensure that you understand it.</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> isprime(n):
    <span class="kw">return</span> <span class="dt">max</span>([e % n <span class="kw">for</span> e in <span class="dt">range</span>(<span class="dv">2</span>, n)]) != <span class="dv">0</span></code></pre>
<p>The file <a href="./Data/W03_D01.txt">W03_D01.txt</a> contains a list of integers. Read in these integers and print to screen how many of them are prime. (If you would like a bit of a challenge, print to to screen the number of unique primes as the file contains various repetitions of numbers).</p>
<p><a href="http://www.youtube.com/watch?v=Tbv0s_GEJ1I">Video hint</a></p></li>
<li><p>There is a common data format called 'csv' short for 'comma separated value'. There is a python library that allows for the easy use of this format when writing a lot of data to files. Watch the following video and experiment with this library.</p>
<p><a href="http://www.youtube.com/watch?v=jQ9aDyBWCXI">Video hint</a></p></li>
</ol>
<h2 id="recursion">Recursion</h2>
<ol start="14" style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong> Recursion is an important technique in programming. It often allows you to write code in a much more succinct way and is intimately linked to mathematics where sequences can be defined recursively. For example, consider:</p>
<p><span class="math">\[X_n=\begin{cases}
1,&amp; n=1\\
2X_{n-1},&amp; n&gt;1
\end{cases}\]</span></p>
<p>To calculate <span class="math">\(X_3\)</span>, we apply the formula and get:</p>
<p><span class="math">\[X_3=2X_2\]</span></p>
<p>at this point we must calculate <span class="math">\(X_2\)</span>:</p>
<p><span class="math">\[X_2=2X_1\]</span></p>
<p>and we now apply the formula to calculate <span class="math">\(X_1\)</span>:</p>
<p><span class="math">\[X_1=1\]</span></p>
<p>so by substituting all this in to our previous equation we get</p>
<p><span class="math">\[X_3=4\]</span></p>
<p>Here is an iterative approach to programming this:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> iterX(n):
    r = <span class="dv">1</span>
    <span class="kw">for</span> i in <span class="dt">range</span>(n - <span class="dv">1</span>):
        r *= <span class="dv">2</span>
    <span class="kw">return</span> r</code></pre>
<p>Experiment and understand this function to verify that it is giving the correct results.</p>
<p>The following code is a <strong>recursive</strong> approach to programming this:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> recX(n):
    <span class="kw">if</span> n == <span class="dv">1</span>:
        <span class="kw">return</span> <span class="dv">1</span>
    <span class="kw">return</span> <span class="dv">2</span> * recX(n - <span class="dv">1</span>)</code></pre>
<p>Note that this approach is much more closely related to the actual definition of what we are trying to compute.  In general we will always either be considering a <em>base</em> case or a case than can be reduced.</p>
<div class="figure">
<img src="./Images/W03-img03.png" alt="" /><p class="caption"></p>
</div>
<p><a href="http://www.youtube.com/watch?v=EYPT4Ykx5IU">Video hint</a></p></li>
<li><p><strong>TICKABLE</strong> Program two functions that return <span class="math">\(n!\)</span> in both an iterative approach and a recursive approach.</p></li>
<li><p>Write a recursive program for the Fibonacci sequence.</p></li>
</ol>
</body>
</html>
